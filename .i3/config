# metakirby5's i3 config

# TODO fonts, less janky bar

## VARIABLES

# THEME
set $wallpaper                            /usr/share/backgrounds/ethan/ene_black.png
set $cFocusBG                             #3FCFEE
set $cFocusFG                             #FFFFFF
set $cFocusIN                             #88DEF1
set $cSubFocusBG                          #777777
set $cSubFocusFG                          #CCCCCC
set $cSubFocusIN                          #888888
set $cUnfocusBG                           #444444
set $cUnfocusFG                           #AAAAAA
set $cUnfocusIN                           #555555
set $cUrgentBG                            #C62828
set $cUrgentFG                            #FFFFFF
set $cUrgentIN                            #F44336
set $cBarBG                               #2D2D2D
set $cBarFG                               #DEDEDE
set $font                                 pango:Monospace 24
set $border                               7
set $gaps                                 50

# DMENU
set $dmPrompt                             λ
set $dmX                                  100
set $dmW                                  3000
set $dmY                                  750
set $dmH                                  100

# KEYS
set $mod                                  Mod4
set $mod2                                 Mod1
set $up                                   k
set $down                                 j
set $left                                 h
set $right                                l

# SYSTEM
set $volPct                               5
set $brightPct                            10

## THEME

# Font
font $font

# Gaps
for_window [class="^.*"] border pixel $border
gaps inner $gaps

# Wallpaper
exec --no-startup-id feh --bg-fill $wallpaper

# Colors
# class                 border        backgr.       text          indicator
client.focused          $cFocusBG     $cFocusBG     $cFocusFG     $cFocusIN
client.focused_inactive $cSubFocusBG  $cSubFocusBG  $cSubFocusFG  $cSubFocusIN
client.unfocused        $cUnfocusBG   $cUnfocusBG   $cUnfocusFG   $cUnfocusIN
client.urgent           $cUrgentBG    $cUrgentBG    $cUrgentFG    $cUrgentIN
client.placeholder      $cUnfocusBG   $cUnfocusBG   $cUnfocusFG   $cUnfocusIN

## SYSTEM

# Auto-start gnome-settings-daemon
exec --no-startup-id /usr/libexec/gnome-settings-daemon

# Volume controls
set $volChangeSound /usr/share/sounds/gnome/default/alerts/drip.ogg
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set Master $volPct%- && ogg123 $volChangeSound
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set Master $volPct%+ && ogg123 $volChangeSound
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle && ogg123 $volChangeSound

# Screen brightness controls
bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc $brightPct
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec $brightPct

# Status bar
# https://github.com/ivyl/i3-config/blob/master/conkyrc
bindsym $mod+b bar hidden_state toggle
bar {
  mode hide
  hidden_state show
  modifier $mod2
  position top
  tray_output none
  strip_workspace_numbers yes
  status_command ~/.i3/bin/conky-wrapper
  colors {
    statusline $cBarFG
    background $cBarBG
    focused_workspace $cBarBG $cFocusBG $cFocusFG
    inactive_workspace $cBarBG $cUnfocusBG $cUnfocusFG
  }
}

# Dmenu
bindsym $mod+r exec --no-startup-id i3-dmenu-desktop --dmenu='dmenu -q -i -p "$dmPrompt" -fn "$font" -nf "$cFocusFG" -nb "$cFocusBG" -sf "$cFocusFG" -sb "$cFocusIN" -x $dmX -w $dmW -y $dmY -h $dmH'


focus_follows_mouse no

# use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
bindsym $mod+T exec i3-sensible-terminal

# kill focused window
bindsym $mod+Shift+q kill

# Change focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Move focused window
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Resize focused windows
bindsym $mod+Control+$left       resize shrink width 1 px or 1 ppt
bindsym $mod+Control+$down       resize grow height 1 px or 1 ppt
bindsym $mod+Control+$up         resize shrink height 1 px or 1 ppt
bindsym $mod+Control+$right      resize grow width 1 px or 1 ppt

# Split in horizontal orientation
bindsym $mod+n split h

# Split in vertical orientation
bindsym $mod+v split v

# Enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# Change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# Focus the parent container
bindsym $mod+a focus parent

# Focus the child container
bindsym $mod+z focus child

# Move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
bindsym $mod+minus scratchpad show

# Switch to workspace
bindsym $mod+1 workspace "1:一"
bindsym $mod+2 workspace "2:二"
bindsym $mod+3 workspace "3:三"
bindsym $mod+4 workspace "4:四"
bindsym $mod+5 workspace "5:五"
bindsym $mod+6 workspace "6:六"
bindsym $mod+7 workspace "7:七"
bindsym $mod+8 workspace "8:八"
bindsym $mod+9 workspace "9:九"
bindsym $mod+0 workspace "10:十"

# Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace "1:一"
bindsym $mod+Shift+2 move container to workspace "2:二"
bindsym $mod+Shift+3 move container to workspace "3:三"
bindsym $mod+Shift+4 move container to workspace "4:四"
bindsym $mod+Shift+5 move container to workspace "5:五"
bindsym $mod+Shift+6 move container to workspace "6:六"
bindsym $mod+Shift+7 move container to workspace "7:七"
bindsym $mod+Shift+8 move container to workspace "8:八"
bindsym $mod+Shift+9 move container to workspace "9:九"
bindsym $mod+Shift+0 move container to workspace "10:十"

# Reload the configuration file
bindsym $mod+Shift+c reload
# Restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# Exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec i3-msg exit

