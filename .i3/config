# metakirby5's i3 config

## VARIABLES

# Theme
set $wallpaper          /usr/share/backgrounds/ethan/nitori.png
set $cFocusBG           #3FCFEE
set $cFocusFG           #FFFFFF
set $cFocusIN           #88DEF1
set $cSubFocusBG        #777777
set $cSubFocusFG        #CCCCCC
set $cSubFocusIN        #888888
set $cUnfocusBG         #444444
set $cUnfocusFG         #AAAAAA
set $cUnfocusIN         #555555
set $cUrgentBG          #C62828
set $cUrgentFG          #FFFFFF
set $cUrgentIN          #F44336
set $cBarBG             #2D2D2D
set $cBarFG             #DEDEDE
set $fontName           tewi
set $fontSize           24
set $border             7
set $gapsInner          50
set $gapsOuter          0

# Bar
set $barFontName        tewi
set $barFontSize        20
set $barSeparator       <

# dmenu
set $dmHistory          ~/.dmenu_history
set $dmFontName         tewi
set $dmPrompt           λ
set $dmX                0
set $dmWidth            3200
set $dmY                1700
set $dmHeight           100

# Settings
set $dashName           1:★
set $volChangeSound     /usr/share/sounds/gnome/default/alerts/drip.ogg
set $volPct             5
set $brightPct          10

# Keys
set $mod                Mod4
set $mod2               Mod1
set $up                 k
set $down               j
set $left               h
set $right              l

## SESSION

# Autostart
exec --no-startup-id urxvtd -q -o -f
exec --no-startup-id mpd

exec --no-startup-id compton -bcCG -l -30 -t -30 -r 20
exec --no-startup-id /usr/libexec/gnome-settings-daemon
exec --no-startup-id dunst

# exec --no-startup-id nm-applet
exec --no-startup-id dropbox start

exec_always --no-startup-id feh --bg-fill $wallpaper

# Terminal on scratch
for_window [title="^urxvtc_scratchpad$"] move scratchpad
bindsym $mod+equal [title="^urxvtc_scratchpad$"] scratchpad show
exec urxvtc -name urxvtc_scratchpad -depth 32 -bg rgba:2D2D/2D2D/2D2D/CCCC

# Dash
# exec --no-startup-id i3-msg 'workspace "$dashName"; append_layout ~/.i3/layouts/dash.json'
# exec urxvtc -e ncmpcpp
# exec firefox -P "i3"

## SETTINGS

font pango:$fontName $fontSize
floating_modifier $mod
focus_follows_mouse no

# Gaps
for_window [class="^.*"] border pixel $border
gaps inner $gapsInner
gaps outer $gapsOuter

# Colors
# class                 border        backgr.       text          indicator
client.focused          $cFocusBG     $cFocusBG     $cFocusFG     $cFocusIN
client.focused_inactive $cSubFocusBG  $cSubFocusBG  $cSubFocusFG  $cSubFocusIN
client.unfocused        $cUnfocusBG   $cUnfocusBG   $cUnfocusFG   $cUnfocusIN
client.urgent           $cUrgentBG    $cUrgentBG    $cUrgentFG    $cUrgentIN
client.placeholder      $cUnfocusBG   $cUnfocusBG   $cUnfocusFG   $cUnfocusIN

# Bar
# https://github.com/ivyl/i3-config/blob/master/conkyrc
# bindsym $mod+b bar hidden_state toggle
bar {
#   mode hide
#   hidden_state show
#   modifier $mod2
  tray_output none
  position top
  strip_workspace_numbers yes
  font pango:$barFontName $barFontSize
  separator_symbol "$barSeparator"
  status_command ~/.i3/bin/conky-wrapper
  colors {
    statusline $cBarFG
    background $cBarBG
    focused_workspace $cBarBG $cFocusBG $cFocusFG
    inactive_workspace $cBarBG $cUnfocusBG $cUnfocusFG
  }
}

## KEYS

# Tasks
bindsym $mod+f fullscreen toggle
bindsym $mod+Shift+q kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exit

# Executables
bindsym $mod+r exec --no-startup-id j4-dmenu-desktop --term='urxvt' --dmenu='dmenu -q -i -p "$dmPrompt" -fn "$dmFontName" -nf "$cUnfocusFG" -nb "$cUnfocusBG" -sf "$cFocusFG" -sb "$cFocusBG" -x $dmX -w $dmWidth -y $dmY -h $dmHeight -hist $dmHistory'
bindsym $mod+t exec urxvtc
# Network manager
bindsym $mod+c exec urxvtc -e nmtui
# File browser
bindsym $mod+e exec urxvtc -e ranger

# Screenshots to clipboard
bindsym Print             exec escrotum -Cs
bindsym Shift+Print       exec imgur-screenshot

# Media controls
bindsym $mod+Home         exec --no-startup-id mpc toggle
bindsym $mod+End          exec --no-startup-id mpc stop
bindsym $mod+Page_Up      exec --no-startup-id mpc prev
bindsym $mod+Page_Down    exec --no-startup-id mpc next

# Volume controls
bindsym XF86AudioLowerVolume exec --no-startup-id amixer set Master $volPct%- && ogg123 $volChangeSound
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer set Master $volPct%+ && ogg123 $volChangeSound
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle && ogg123 $volChangeSound

# Screen brightness controls
bindsym XF86MonBrightnessUp exec --no-startup-id xbacklight -inc $brightPct
bindsym XF86MonBrightnessDown exec --no-startup-id xbacklight -dec $brightPct

# Change focus
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
bindsym $mod+z focus child

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+minus scratchpad show

# Move focused window
bindsym $mod+Shift+space floating toggle

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
bindsym $mod+Shift+minus move scratchpad

# Resize focused windows
bindsym $mod+Control+$left       resize shrink width 1 px or 1 ppt
bindsym $mod+Control+$down       resize grow height 1 px or 1 ppt
bindsym $mod+Control+$up         resize shrink height 1 px or 1 ppt
bindsym $mod+Control+$right      resize grow width 1 px or 1 ppt

# Gaps
bindsym $mod+g            gaps inner all plus   5
bindsym $mod+Shift+g      gaps inner all minus  5
bindsym $mod+Control+g    gaps inner all set    $gapsInner

# Change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+b layout toggle split

# Splits
bindsym $mod+n split h
bindsym $mod+v split v

# Switch to workspace
bindsym $mod+grave workspace        "$dashName"
bindsym $mod+1 workspace            "11:one"
bindsym $mod+2 workspace            "12:two"
bindsym $mod+3 workspace            "13:three"
bindsym $mod+4 workspace            "14:four"
bindsym $mod+5 workspace            "15:five"
bindsym $mod+6 workspace            "16:six"
bindsym $mod+7 workspace            "17:seven"
bindsym $mod+8 workspace            "18:eight"
bindsym $mod+9 workspace            "19:nine"
bindsym $mod+0 workspace            "20:ten"

# Move focused container to workspace
bindsym $mod+Shift+grave move container to workspace        "$dashName"
bindsym $mod+Shift+1 move container to workspace            "11:one"
bindsym $mod+Shift+2 move container to workspace            "12:two"
bindsym $mod+Shift+3 move container to workspace            "13:three"
bindsym $mod+Shift+4 move container to workspace            "14:four"
bindsym $mod+Shift+5 move container to workspace            "15:five"
bindsym $mod+Shift+6 move container to workspace            "16:six"
bindsym $mod+Shift+7 move container to workspace            "17:seven"
bindsym $mod+Shift+8 move container to workspace            "18:eight"
bindsym $mod+Shift+9 move container to workspace            "19:nine"
bindsym $mod+Shift+0 move container to workspace            "20:ten"

